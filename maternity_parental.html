<!doctype html>
<html lang="ko" data-theme="light">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>ì¶œì‚°íœ´ê°€Â·ìœ¡ì•„íœ´ì§ ê¸‰ì—¬ ê³„ì‚°ê¸°</title>
<meta name="description" content="ì›” í†µìƒì„ê¸ˆê³¼ ê¸°ê°„ì„ ì…ë ¥í•˜ë©´ ì¶œì‚°íœ´ê°€(ì¶œì‚°ì „í›„íœ´ê°€)Â·ìœ¡ì•„íœ´ì§ ê¸‰ì—¬ë¥¼ ìë™ ê³„ì‚°í•©ë‹ˆë‹¤." />
<style>
  :root{
    --bg:#f6f8fb; --surface:#fff; --elev:#fff; --line:#e5eaf0;
    --text:#0d1b2a; --muted:#516173; --title:#0a0f18;
    --accent:#2a66ff; --ring:rgba(42,102,255,.22);
    --sec-bg:#0a2a60; --sec-fg:#fff; --yellow:#fff9e6; --chip:#f3f6ff;
  }
  [data-theme="dark"]{
    --bg:#0a0e13; --surface:#0f1520; --elev:#121a26; --line:#1f2a3a;
    --text:#eef4fb; --muted:#8ea4b8; --title:#fff;
    --accent:#62a8ff; --ring:rgba(98,168,255,.35);
    --sec-bg:#0a2a60; --sec-fg:#fff; --yellow:#2a2412; --chip:#10192a;
  }
  *{box-sizing:border-box}
  html,body{margin:0;padding:0;background:var(--bg);color:var(--text);
    font-family:ui-sans-serif,system-ui,-apple-system,Segoe UI,Roboto,Apple SD Gothic Neo,Malgun Gothic,Helvetica,Arial,sans-serif}
  a{color:var(--accent);text-decoration:none}
  /* App bar */
  .appbar{position:sticky;top:0;z-index:10;display:flex;justify-content:space-between;align-items:center;gap:12px;
    padding:12px 16px;background:var(--bg);border-bottom:1px solid var(--line);backdrop-filter:saturate(140%) blur(6px)}
  .brand{font-weight:800;color:var(--title)}
  .bar-actions{display:flex;gap:10px;align-items:center;flex-wrap:wrap}
  select,.btn,input, .select-like{
    background:var(--surface);color:var(--text);border:1px solid var(--line);border-radius:12px;
    padding:10px 12px;outline:none;transition:.15s;box-shadow:0 0 0 0 var(--ring)
  }
  select:hover,.btn:hover,input:hover{border-color:color-mix(in oklab, var(--accent) 30%, var(--line))}
  select:focus,input:focus{box-shadow:0 0 0 6px var(--ring);border-color:var(--accent)}
  .btn{cursor:pointer;font-weight:700}
  .btn.primary{border-color:var(--accent);background:color-mix(in oklab, var(--accent) 12%, var(--surface))}
  /* Layout */
  .container{max-width:1100px;margin:28px auto 80px;padding:0 16px}
  .sheet{background:var(--elev);border:1px solid var(--line);border-radius:18px;overflow:hidden;box-shadow:0 8px 30px rgba(0,0,0,.08)}
  .sheet h1{margin:0;padding:18px;background:color-mix(in oklab, var(--surface) 92%, var(--bg));
    text-align:center;font-size:20px;font-weight:800;color:var(--title);border-bottom:1px solid var(--line)}
  .controls{display:flex;gap:10px;flex-wrap:wrap;align-items:center;padding:12px 16px;border-bottom:1px solid var(--line);background:var(--surface)}
  .controls .group{display:flex;gap:8px;align-items:center}
  .subtle{color:var(--muted);font-size:12px}
  .tables{display:grid;grid-template-columns:1fr 1fr;gap:16px;padding:16px}
  @media (max-width: 980px){ .tables{grid-template-columns:1fr} }
  .table-wrap{border:1px solid var(--line);border-radius:14px;overflow:hidden;background:var(--surface)}
  table{width:100%;border-collapse:separate;border-spacing:0}
  th,td{border-bottom:1px solid var(--line);padding:10px 10px;vertical-align:middle}
  th{background:color-mix(in oklab, var(--surface) 90%, var(--bg));font-weight:700}
  tr:last-child td,tr:last-child th{border-bottom:0}
  .sec-title{background:var(--sec-bg)!important;color:var(--sec-fg)!important;text-align:left;font-weight:800}
  .yellow{background:var(--yellow)}
  .right{text-align:right}
  .mono{font-variant-numeric:tabular-nums}
  .kpi{display:flex;gap:16px;flex-wrap:wrap;padding:16px}
  .chip{background:var(--chip);border:1px solid var(--line);border-radius:12px;padding:12px;min-width:220px}
  .chip strong{display:block;font-size:12px;color:var(--muted);margin-bottom:4px}
  .chip .val{font-size:18px;font-weight:800}
  .note{padding:14px 16px;border-top:1px solid var(--line);color:var(--muted);font-size:13px;line-height:1.6}
</style>
</head>
<body>
  <!-- Top bar -->
  <div class="appbar">
    <div class="brand">ì¶œì‚°íœ´ê°€Â·ìœ¡ì•„íœ´ì§ ê¸‰ì—¬ ê³„ì‚°ê¸°</div>
    <div class="bar-actions">
      <label for="calcSelect" class="subtle">ì´ë™</label>
      <select id="calcSelect" title="ê³„ì‚°ê¸° ì´ë™">
        <option value="">â€” ì„ íƒ â€”</option>
        <option value="./index.html">í™ˆ</option>
        <option value="./severance.html">í‡´ì§ê¸ˆ ê³„ì‚°ê¸°</option>
        <option value="./annual.html">ì—°ì°¨íœ´ê°€ ê³„ì‚°ê¸°</option>
        <option value="./hours52.html">ì£¼íœ´ì‹œê°„ ê³„ì‚°ê¸°</option>
        <option value="./maternity_parental.html" selected>ì¶œì‚°Â·ìœ¡ì•„íœ´ì§ ê³„ì‚°ê¸°</option>
      </select>
      <button id="themeBtn" class="btn" type="button">ğŸŒ™ ë‹¤í¬ ëª¨ë“œ</button>
    </div>
  </div>

  <div class="container">
    <div class="sheet">
      <h1>ì¶œì‚°íœ´ê°€(ì¶œì‚°ì „í›„íœ´ê°€) Â· ìœ¡ì•„íœ´ì§ ê¸‰ì—¬ ê³„ì‚°ê¸°</h1>

      <!-- ì…ë ¥ ì˜ì—­ -->
      <div class="controls">
        <div class="group">
          <label>ì›” í†µìƒì„ê¸ˆ(ì›)
            <input id="monthlyWage" type="number" placeholder="ì˜ˆ: 3,500,000" />
          </label>
        </div>
        <div class="group">
          <label>ì¶œì‚°íœ´ê°€ ìœ í˜•
            <select id="matType" class="select-like" title="ì¶œì‚°íœ´ê°€ ìœ í˜•">
              <option value="single">ë‹¨íƒœì•„(90ì¼)</option>
              <option value="multi">ë‹¤íƒœì•„(120ì¼)</option>
              <option value="preterm">ë¯¸ìˆ™ì•„Â·ì¡°ì‚°(100ì¼, â€™25.2.23~)</option>
            </select>
          </label>
        </div>
        <div class="group">
          <label>ìœ¡ì•„íœ´ì§ ê°œì›”ìˆ˜
            <select id="parentMonths" title="ìœ¡ì•„íœ´ì§ ê°œì›”ìˆ˜">
              <!-- 1~12 -->
              <script>
                document.write([...Array(12)].map((_,i)=>`<option value="${i+1}">${i+1}ê°œì›”</option>`).join(''));
              </script>
            </select>
          </label>
        </div>
        <button id="btnCalc" class="btn primary">ê³„ì‚°</button>
        <span class="subtle">â€» ê³„ì‚° ê°€ì •: ì¼ì¼ í†µìƒì„ê¸ˆ = ì›” í†µìƒì„ê¸ˆ Ã· 30</span>
      </div>

      <!-- ìš”ì•½ KPI -->
      <div class="kpi">
        <div class="chip"><strong>ì¶œì‚°íœ´ê°€ ì´ì•¡</strong><div class="val mono" id="kpiMat">0</div></div>
        <div class="chip"><strong>ìœ¡ì•„íœ´ì§ ì´ì•¡</strong><div class="val mono" id="kpiPar">0</div></div>
        <div class="chip"><strong>í•©ê³„</strong><div class="val mono" id="kpiTotal">0</div></div>
      </div>

      <div class="tables">
        <!-- ì¶œì‚°íœ´ê°€ -->
        <div class="table-wrap">
          <table>
            <tr><th class="sec-title" colspan="4">â‘  ì¶œì‚°íœ´ê°€(ì¶œì‚°ì „í›„íœ´ê°€) ê¸‰ì—¬</th></tr>
            <tr>
              <th style="width:28%">êµ¬ê°„</th>
              <th class="yellow right">ì¼ìˆ˜</th>
              <th class="yellow right">ì¼ ë‹¨ê°€</th>
              <th class="right">ê¸ˆì•¡</th>
            </tr>
            <tbody id="matBody"></tbody>
            <tr>
              <th>í•©ê³„</th>
              <td class="yellow right mono" id="matDays">0</td>
              <td class="yellow"></td>
              <td class="right mono" id="matSum">0</td>
            </tr>
          </table>
          <div class="note">
            * ìµœì´ˆ 60ì¼(ë‹¤íƒœì•„ 75ì¼)ì€ ì‚¬ì—…ì£¼ 100% ì§€ê¸‰, ì”ì—¬ë¶„ì€ ê³ ìš©ë³´í—˜ êµ¬ê°„(30ì¼ë‹¹ 210ë§Œì› ìƒí•œ=ì¼ 7ë§Œì›) ì ìš©í•˜ì—¬ ì¶”ì •í•©ë‹ˆë‹¤. ì‹¤ì œ ì§€ê¸‰ì£¼ì²´Â·ìš”ê±´ì€ ì‚¬ì—…ì¥ ê·œëª¨ ë“± ë³„ë„ ê·œì •ì´ ì ìš©ë©ë‹ˆë‹¤. :contentReference[oaicite:2]{index=2}<br>
            * ë¯¸ìˆ™ì•„Â·ì¡°ì‚°ì˜ ê²½ìš° â€™25.2.23 ì´í›„ **100ì¼** ì ìš©. :contentReference[oaicite:3]{index=3}
          </div>
        </div>

        <!-- ìœ¡ì•„íœ´ì§ -->
        <div class="table-wrap">
          <table>
            <tr><th class="sec-title" colspan="5">â‘¡ ìœ¡ì•„íœ´ì§ ê¸‰ì—¬(ì›”ë³„)</th></tr>
            <tr>
              <th style="width:18%">ì›”ì°¨</th>
              <th class="yellow right">ì ìš©ìœ¨</th>
              <th class="yellow right">ìƒí•œ/í•˜í•œ</th>
              <th class="yellow right">ê³„ì‚°ì•¡</th>
              <th class="right">ì§€ê¸‰ì•¡(ìƒÂ·í•˜í•œ ë°˜ì˜)</th>
            </tr>
            <tbody id="parBody"></tbody>
            <tr>
              <th>í•©ê³„</th>
              <td class="yellow"></td>
              <td class="yellow"></td>
              <td class="yellow right mono" id="parCalcSum">0</td>
              <td class="right mono" id="parPaySum">0</td>
            </tr>
          </table>
          <div class="note">
            * â€™25.1.1~: 1~3ê°œì›” **100%(ìƒí•œ 250ë§Œ)**, 4~6ê°œì›” **100%(ìƒí•œ 200ë§Œ)**, 7~12ê°œì›” **80%(ìƒí•œ 160ë§Œ)**, **í•˜í•œ 70ë§Œ** ì ìš©. ì‚¬í›„ 25% ìœ ë³´ íì§€(ì›”ë³„ ì „ì•¡ ì§€ê¸‰). :contentReference[oaicite:4]{index=4}
          </div>
        </div>
      </div>

      <div class="note">
        â€» ë³¸ ê³„ì‚°ê¸°ëŠ” í¸ì˜ìƒ ê°„ì´ ì‚°ì‹ì„ ì ìš©í•©ë‹ˆë‹¤(ì˜ˆ: ì¼í•  ê³„ì‚°, í†µìƒì„ê¸ˆ ì •ì˜, ìƒì—¬Â·ìˆ˜ë‹¹ í¬í•¨ì—¬ë¶€ ë“±ì€ ì‚¬ì—…ì¥ ê·œì •/ë²•ë ¹ í•´ì„ì— ë”°ë¼ ë‹¬ë¼ì§ˆ ìˆ˜ ìˆìŒ).<br>
        â€» ì‹¤ì œ ì‹ ì²­Â·ì§€ê¸‰ì€ ì›Œí¬ë„·Â·ê³ ìš©ì„¼í„° ì§€ì¹¨ì„ ë”°ë¦…ë‹ˆë‹¤(ì˜¨ë¼ì¸ ì‹ ì²­ ê²½ë¡œ ì°¸ì¡°). :contentReference[oaicite:5]{index=5} <br>
        â€» ë²•ë ¹Â·ì§€ì¹¨ì€ ìˆ˜ì‹œ ê°œì •ë˜ë¯€ë¡œ ìµœì‹  ê³µê³ ë¥¼ í™•ì¸í•˜ì„¸ìš”. :contentReference[oaicite:6]{index=6}
      </div>
    </div>
  </div>

<script>
/* ===== Theme + Nav ===== */
(function(){
  const saved = localStorage.getItem('theme'); if(saved) document.documentElement.setAttribute('data-theme', saved);
  updateThemeBtn();
})();
function updateThemeBtn(){
  const dark = document.documentElement.getAttribute('data-theme')==='dark';
  document.getElementById('themeBtn').textContent = dark ? 'â˜€ï¸ ë¼ì´íŠ¸ ëª¨ë“œ' : 'ğŸŒ™ ë‹¤í¬ ëª¨ë“œ';
}
document.getElementById('themeBtn').addEventListener('click', ()=>{
  const cur = document.documentElement.getAttribute('data-theme') || 'light';
  const next = cur==='light' ? 'dark' : 'light';
  document.documentElement.setAttribute('data-theme', next);
  localStorage.setItem('theme', next);
  updateThemeBtn();
});
document.getElementById('calcSelect').addEventListener('change', e=>{
  if(e.target.value) location.href = e.target.value;
});

/* ===== Utils ===== */
const fmt = n => (Number.isFinite(n)? Math.round(n).toLocaleString('ko-KR') : '0');
const money = n => (Number.isFinite(n)? Math.round(n).toLocaleString('ko-KR') : '0');
function valNum(id){ return Number((document.getElementById(id).value||'0').toString().replace(/,/g,''))||0; }

/* ===== Core calc ===== */
function calcMaternity(monthly, type){
  const daily = monthly / 30;
  let totalDays = 90;
  let employerDays = 60;
  if(type === 'multi'){ totalDays = 120; employerDays = 75; }
  if(type === 'preterm'){ totalDays = 100; employerDays = 60; } // ì§€ì¹¨ìƒ ì¶”ê°€ 10ì¼ì€ ì •ë¶€ ë¶€ë‹´(í‘œì‹œëŠ” ì´ 100ì¼ë¡œ ë°˜ì˜)

  const eiDays = Math.max(0, totalDays - employerDays);

  const employerPay = daily * employerDays;         // 100%
  const eiDailyCap = 2100000 / 30;                  // 30ì¼ë‹¹ 210ë§Œì› ìƒí•œ â†’ ì¼ 7ë§Œì›
  const eiPay = Math.min(daily, eiDailyCap) * eiDays;

  // í‘œ ë Œë”
  const tbody = document.getElementById('matBody');
  tbody.innerHTML = '';
  tbody.appendChild(row(['ì‚¬ì—…ì£¼ ë¶€ë‹´(100%)', employerDays, daily, employerPay]));
  tbody.appendChild(row(['ê³ ìš©ë³´í—˜ êµ¬ê°„(ìƒí•œ ì ìš©)', eiDays, Math.min(daily, eiDailyCap), eiPay]));

  document.getElementById('matDays').textContent = fmt(totalDays);
  document.getElementById('matSum').textContent = money(employerPay + eiPay);

  return employerPay + eiPay;

  function cell(t, cls='', isMoney=false){
    const td=document.createElement('td'); td.className = cls;
    td.textContent = isMoney? money(t) : (typeof t==='number'? fmt(t) : t);
    return td;
  }
  function row([label, days, per, amt]){
    const tr=document.createElement('tr');
    tr.appendChild(cell(label));
    tr.appendChild(cell(days,'yellow right mono'));
    tr.appendChild(cell(per,'yellow right mono',false));
    tr.appendChild(cell(amt,'right mono',true));
    return tr;
  }
}

function calcParental(monthly, months){
  // ë‹¨ê³„ë³„ ê·œì¹™(â€™25.1.1~)
  // 1~3M: 100%, cap 2.5m
  // 4~6M: 100%, cap 2.0m
  // 7~12M: 80%, cap 1.6m
  // min 0.7m
  const rules = [];
  for(let m=1; m<=months; m++){
    let rate=1, cap=2500000;
    if(m>=4 && m<=6){ rate=1; cap=2000000; }
    else if(m>=7){ rate=0.8; cap=1600000; }
    const calc = monthly * rate;
    const paid = Math.max(700000, Math.min(calc, cap));
    rules.push({m, rate, cap, calc, paid});
  }

  // í‘œ ë Œë”
  const tbody = document.getElementById('parBody');
  tbody.innerHTML = '';
  let calcSum=0, paySum=0;
  rules.forEach(r=>{
    const tr=document.createElement('tr');
    tr.appendChild(td(`${r.m}ê°œì›”ì°¨`));
    tr.appendChild(td(`${Math.round(r.rate*100)}%`,'yellow right mono'));
    tr.appendChild(td(`${money(r.cap)} / ${money(700000)}`,'yellow right mono'));
    tr.appendChild(td(money(r.calc),'yellow right mono'));
    tr.appendChild(td(money(r.paid),'right mono'));
    tbody.appendChild(tr);
    calcSum += r.calc; paySum += r.paid;
  });
  document.getElementById('parCalcSum').textContent = money(calcSum);
  document.getElementById('parPaySum').textContent = money(paySum);
  return paySum;

  function td(t, cls=''){ const el=document.createElement('td'); el.className=cls; el.textContent=t; return el; }
}

/* ===== Wire ===== */
document.getElementById('btnCalc').addEventListener('click', ()=>{
  const monthly = valNum('monthlyWage');
  const type = document.getElementById('matType').value;
  const months = Number(document.getElementById('parentMonths').value)||0;
  if(monthly<=0){ alert('ì›” í†µìƒì„ê¸ˆì„ ì…ë ¥í•˜ì„¸ìš”.'); return; }

  const mat = calcMaternity(monthly, type);
  const par = months>0 ? calcParental(monthly, months) : 0;

  document.getElementById('kpiMat').textContent = money(mat);
  document.getElementById('kpiPar').textContent = money(par);
  document.getElementById('kpiTotal').textContent = money(mat + par);
});
</script>
</body>
</html>

